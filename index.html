<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Moelven map</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSl7ioT2_AhBS-L-ZDIOjowKD2k7N1IVk&sensor=false">
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript">
        var map;
        var marker;
        $(document).ready(function() {
            $(".box a").on("click", function(e) {
               e.preventDefault();
               var arr = $(this).data("rel").split(",");
               var dest = new google.maps.LatLng(arr[0], arr[1]);
               goto(dest);
            });

            function getData(data, callback) {
                $.ajax({
                    url: data,
                    dataType: 'json',
                    success: function(js) {
                        callback(js);
                    },
                    error: function(j, e) {
                        //console.log("error "+e);
                    }
                });
            };

            function createMenu() { //name - address - lat - lng
                
            };

            function createMarker() {
                
            };
            
            var mapmenu = $("#menu-map");
            getData("data.js", function(data) {
                for (var o in data) {
                    mapmenu.append('<div id="'+data[o].title+'" class="accordion-box">'+data[o].title+'</div>');
                    var cont = $("#"+data[o].title);
                    cont.append('<ul>');
                    for (j in data[o].data) {
                        //console.log("  "+j+" > "+data[o].data[j].name);
                        var str = data[o].data[j].lat+","+data[o].data[j].lng;
                        cont.append('<li class="box"><a href="#" data-rel="'+str+'">'+data[o].data[j].name+'</a></li>');
                    }
                    cont.append("</ul>");
                }
                setup();
            });
            
            function setup() {
                console.log("setup");
                $("li a").on("click", function(e) {
                    e.preventDefault();
                    console.log($(this).data("rel"));
                    var arr = $(this).data("rel").split(",");
                    var dest = new google.maps.LatLng(arr[0], arr[1]);
                    goto(dest);
                });
            }
            



            initialize();
        })

        function initialize() {
            var styles = [
                {
                    stylers: [
                        { saturation: -100},
                        { gamma: 0.50}
                    ]
                },
                {
                    featureType: 'all'
                }
                

            ];

            var styledMap = new google.maps.StyledMapType(styles, {name: "Grayscaled"});

            var mapOptions = {
              center: new google.maps.LatLng(59.91294, 10.75125),
              zoom: 6,
              disableDefaultUI: true,
              mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map(document.getElementById("map_canvas"),
                mapOptions);
            map.mapTypes.set("map_style", styledMap);
            map.setMapTypeId("map_style");


          }

        
          
        function goto(dest) {
            map.setCenter(dest);
            marker = new google.maps.Marker({
                  position: dest, 
                  map: map, 
                  title: '',
                  
                  zIndex: 0
            });
        }
      

    </script>
<!--
                [ { "featureType": "water", "stylers": [ { "visibility": "simplified" } ] },{ "featureType": "landscape", "stylers": [ { "visibility": "off" } ] },{ "featureType": "administrative.country", "stylers": [ { "visibility": "off" } ] },{ "featureType": "landscape", "stylers": [ { "visibility": "simplified" }, { "saturation": 122 }, { "gamma": 9.99 } ] },{ "featureType": "landscape.natural", "stylers": [ { "visibility": "off" } ] },{ "featureType": "landscape.man_made", "stylers": [ { "visibility": "off" } ] },{ "featureType": "poi", "stylers": [ { "visibility": "off" } ] },{ "featureType": "road", "stylers": [ { "color": "#6d6153" } ] },{ "featureType": "landscape" },{ "featureType": "transit", "stylers": [ { "visibility": "off" } ] } ] */

                /*

                [ { "featureType": "water", "stylers": [ { "visibility": "simplified" } ] },{ "featureType": "landscape", "stylers": [ { "visibility": "off" } ] },{ "featureType": "administrative.country", "stylers": [ { "visibility": "off" } ] },{ "featureType": "landscape", "stylers": [ { "visibility": "simplified" }, { "saturation": 122 }, { "gamma": 9.99 } ] },{ "featureType": "landscape.natural", "stylers": [ { "visibility": "off" } ] },{ "featureType": "landscape.man_made", "stylers": [ { "visibility": "off" } ] },{ "featureType": "poi", "stylers": [ { "visibility": "off" } ] },{ "featureType": "road", "stylers": [ { "color": "#6d6153" }, { "visibility": "simplified" } ] },{ "featureType": "landscape" },{ "featureType": "transit", "stylers": [ { "visibility": "off" } ] },{ "featureType": "road.local", "stylers": [ { "visibility": "off" } ] },{ "featureType": "road.arterial", "stylers": [ { "visibility": "off" } ] } ]

               -->
    <style>

        #inner {
            line-height: 200px;
        }

        #outer {
            border: 1px solid blue;
            float: left;
            padding: 0 1em;
        }
        .accordion-box {
            width: 890px;
            float: left;
            background-color: #cccccc;
        }

        .box {
            width: 211px;
            height: 40px;
            border-bottom: 1px solid #fff;
            border-right: 1px solid #fff;
            background-color: #ebf3f7;
            float: left;
            text-align: center;
        }

        ul {
            list-style: none;
        }

        li a {
            text-decoration: none;
            font-size: 10px;
            color: #61979b;
            
        }

        li a.hover {
           color: #01979b;
           text-decoration: underline; 
        }

        ul li {
            float: left;
        }
    </style>
  </head>
  <body>
    <div>Maps</div>
    <div id="map_canvas" style="width:100%; height:500px"></div>
    <div id="log">
        <a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/geocoder/getlatlng.html">http://gmaps-samples-v3.googlecode.com/svn/trunk/geocoder/getlatlng.html</a>
    </div>
    <div id="menu-map">

    </div>
    <!--<div id="timber" class="accordion-box">
        <div>Timber</div>
        <ul>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Dalaträ AB</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.55125">Moelven Norsälven AB</a></li>
            <li class="box"><a href="#" data-rel="59.21294, 10.24125">Moelven Mjøsbruket AS</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Årjäng Såg AB</a></li>
            <li class="box"><a href="#" data-rel="56.91294, 10.33125">Moelven Valåsen AB</a></li>
            <li class="box"><a href="#" data-rel="60.91294, 9.15125">Moelven Ransbysågen AB</a></li>
            <li class="box"><a href="#" data-rel="60.759151, 9.14065">Moelven Component AB</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Profil AS</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Løten AS</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Telemarksbruket AS (51%)</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Numedal AS</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Notnäs AB</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Nössemark Trä AB</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">Moelven Tom Heurlin AB</a></li>
            <li class="box"><a href="#" data-rel="59.91294, 10.15125">UJ-Trading AB</a></li>
        </ul>
    </div>
    <div id="wood" class="accordion-box">
        <div>Wood</div>
        <ul>
            <li class="box"><a href="#">Moelven Wood AS<br>Moelven Wood AB<br>Moelven Danmark A/S</a></li>
            <li class="box"><a href="#">Moelven Valåsen Wood AB</a></li>
            <li class="box"><a href="#">Moelven Are AS</a></li>
            <li class="box"><a href="#">Moelven Langmoen AS</a></li>
            <li class="box"><a href="#">Moelven Edanesågen AB</a></li>
            <li class="box"><a href="#">Moelven Eidsvold Værk AS</a></li>
            <li class="box"><a href="#">Moelven Østerdalsbruket AS</a></li>
            <li class="box"><a href="#">Moelven List AB</a></li>
            <li class="box"><a href="#">Moelven Notnäs Wood AB</a></li>
            <li class="box"><a href="#">Moelven Värmlands Trä AB</a></li>
            <li class="box"><a href="#">Moelven Vänerply AB</a></li>
            <li class="box"><a href="#">Moelven Wood Prosjekt AS</a></li>
            <li class="box"><a href="#">Moelven Iso3 AS (84,5%)</a></li>
            <li class="box"><a href="#">Moelven Sør-Tre AS</a></li>
            <li class="box"><a href="#">Moelven Granvin Bruk AS (87,95%)</a></li>
            <li class="box"><a href="#">Moelven Soknabruket AS</a></li>
            <li class="box"><a href="#">Moelven Trysil AS</a></li>
            <li class="box"><a href="#">Moelven Van Severen AS</a></li>
            <li class="box"><a href="#">Moelven Treinteriør AS</a></li>
            <li class="box"><a href="#">Moelven Eidsvoll AS</a></li>
            <li class="box"><a href="#">Moelven Lovene AB</a></li>
        </ul>
    </div>
    <div id="byggsystemer" class="accordion-box">
        <div>Byggsystemer</div>
        <ul>
            <li class="box"><a href="#">Moelven ByggmModul AB</a></li>
            <li class="box"><a href="#">Moelven Eurowand AB</a></li>
            <li class="box"><a href="#">Moelven UK Ltd.</a></li>
            <li class="box"><a href="#">Moelven Töreboda AB</a></li>
            <li class="box"><a href="#">Moelven Elektro AB</a></li>
            <li class="box"><a href="#">Moelven ByggModul AS</a></li>
            <li class="box"><a href="#">Moelven Nordia AS</a></li>
            <li class="box"><a href="#">Moelven Nordia Prosjekt AS</a></li>
            <li class="box"><a href="#">Moelven Limtre AS</a></li>
            <li class="box"><a href="#">Moelven Elektro AS</a></li>
        </ul>
    </div> -->
  </body>
</html>
